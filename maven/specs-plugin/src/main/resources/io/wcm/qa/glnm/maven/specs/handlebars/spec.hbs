package {{packageName}};

import static io.wcm.qa.glnm.galen.reports.GalenReports.handleGalenSpecRun;
import static io.wcm.qa.glnm.util.GaleniumContext.getTestDevice;

import java.io.File;
import java.util.Collection;
import java.util.ArrayList;

import io.wcm.qa.glnm.configuration.GaleniumConfiguration;
import io.wcm.qa.glnm.galen.util.GalenHelperUtil;
import io.wcm.qa.glnm.galen.specs.GalenSpecRun;
import io.wcm.qa.glnm.galen.validation.GalenValidation;
import io.wcm.qa.glnm.selectors.SelectorFromLocator;
import io.wcm.qa.glnm.selectors.base.Selector;
import io.wcm.qa.glnm.selectors.base.SelectorFactory;

/**
 * Java version of '{{filename}}'.
 */
public class {{specClassName}} {

  private static final String RELATIVE_PATH = "{{relativeFilePath}}";

{{#if tags}}
  private Collection<String> tags = new ArrayList<>();
{{/if}}

  private void checkSpec() {
    checkSpec((String[])null);
  }

  private void checkSpec(String... includeTags) {
    GalenSpecRun specRun = GalenValidation.check(GaleniumConfiguration.getGalenSpecPath() + RELATIVE_PATH, includeTags);
    String errorMessage = "errors when checking: " + RELATIVE_PATH;
    String successMessage = "successfully checked: " + RELATIVE_PATH;
    handleGalenSpecRun(specRun, errorMessage, successMessage);
  }

{{#tags}}
    public static void check{{stringClassName}}() {
      check("{{this}}");
    }
{{/tags}}

  public static void check() {
    instance().checkSpec();
  }

  public static void check(String... tags) {
    instance().checkSpec(tags);
  }

  private static {{specClassName}} instance() {
    return new {{specClassName}}();
  }

}
